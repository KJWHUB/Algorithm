<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <h1>이진수 더하기</h1>

  <h3>문제 설명</h3>
  <p>
    이진수를 의미하는 두 개의 문자열 bin1과 bin2가 매개변수로 주어질 때, 두 이진수의 합을 return하도록 solution 함수를 완성해주세요.  
  </p>

  <h3>제한사항</h3>
  <p>
    return 값은 이진수를 의미하는 문자열입니다.
    1 ≤ bin1, bin2의 길이 ≤ 10
    bin1과 bin2는 0과 1로만 이루어져 있습니다.
    bin1과 bin2는 "0"을 제외하고 0으로 시작하지 않습니다.
  </p>

  <h3>입출력 예</h3>
  <div>
    bin1	bin2	result
    "10"	"11"	"101"
    "1001"	"1111"	"11000"
  </div>

</body>
</html>

<script>
// 2진수  0, 1, 10, 11, 100
// 10진수 0, 1, 2, 3, 4

// 재귀 함수가 필요


// 내가 짠 코드
// function solution(bin1, bin2) {
//   const n1 = Number(bin1)
//   const n2 = Number(bin2)
//   const plus = n1 + n2

//   if (plus === 0) {
//     return '0'
//   }

//   if (String(plus).includes('2')) {
//     const copy = [...String(plus)]
//     const map = copy.map((el, i) => el === '2' && i === 0 ? '10' : el)
//     const arr1 = [...map.join('')]
//     console.log(arr1)

//     // 재귀함수
//     const zgfn = (arr) => {
//       console.log(arr)
//       if (arr.includes('2')) {
//         // 자바스크립트 내장 함수가 아니므로 모든 브라우저에서 지원하지 않아서 사용하지못함
//         // const last = arr.findLastIndex((el) => el === '2')
//         const arrLastIndex = arr.length - 1
//         const last = arr.reverse().findIndex((el) => el === '2')
//         arr.reverse()
//         const lastIndex = arrLastIndex - last
//         arr[lastIndex] = '0'
//         if (arr[lastIndex - 1] === '0') {
//           arr[lastIndex - 1] = '1'
//         } else if (arr[lastIndex - 1] === '1') {
//           arr[lastIndex - 1] = '2'
//         } else if (arr[lastIndex - 1] === '2') {
//           arr[lastIndex - 1] = '1'
//           switch (arr[lastIndex - 2]) {
//             case '0':
//               arr[lastIndex - 2] = '1'
//               break;
//             case '1':
//               arr[lastIndex - 2] = '2'
//               break;
//             default:
//               break;
//           }
//         } else {
//           arr.unshift('1')
//         }
//         return zgfn(arr)
//       } else {
//         return arr
//       }
//     }

//     return zgfn(arr1).join('');
//   } else {
//     return String(plus)
//   }
// }

function solution(bin1, bin2) {
  const n1 = Number(bin1)
  const n2 = Number(bin2)
  const plus = n1 + n2

  if (plus === 0) {
    return '0'
  }

  if (String(plus).includes('2')) {
    const copy = [...String(plus)]
    const map = copy.map((el, i) => el === '2' && i === 0 ? '10' : el)
    const arr1 = [...map.join('')]
    console.log(arr1)

    // 재귀함수
    const zgfn = (arr) => {
      if (arr.includes('2')) {
        const findIndex = arr.findIndex((el) => el === '2')
        arr[findIndex] = '0'
        switch (arr[findIndex - 1]) {
          case '0':
            arr[findIndex - 1] = '1'
            break;
          case '1':
            arr[findIndex - 1] = '2'
            break;
          default:
            arr.unshift('1')
            break;
        }
        return zgfn(arr)
      } else {
        return arr
      }
    }

    return zgfn(arr1).join('');
  } else {
    return String(plus)
  }
}

const bin1 = '1111111111'
const bin2 = '1111111111'

console.log('solution', solution(bin1, bin2))

</script>